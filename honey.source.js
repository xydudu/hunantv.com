/** js loader Copyright	Tero Piirainen (tipiirai) */
/* honey for hunantv 
 * xydudu 2010/12/22 
 * beta 1.0
 * */
var JSURL='http://js.mangoq.com/honey/',VERSION='20101224',isDev=false,COMBO=false;(function(doc){var head=doc.documentElement,ie=navigator.userAgent.toLowerCase().indexOf("msie")!=-1,ready=false,queue=[],handlers={},scripts={};var api=window.honey=window.HN=(window.honey||function(){api.ready.apply(null,arguments);});api.js=function(){var args=arguments,rest=[].slice.call(args,1),next=rest[0];if(!ready){queue.push(function(){api.js.apply(null,args);});return api;}if(next){if(!isFunc(next)){each(rest,function(el){if(!isFunc(el)){preload(getScript(el));}});}load(getScript(args[0]),isFunc(next)?next:function(){api.js.apply(null,rest);});}else{load(getScript(args[0]));}return api;};api.ready=function(key,fn){var script=scripts[key];if(script&&script.state=='loaded'){fn.call();return api;}if(isFunc(key)){fn=key;key="ALL";}var arr=handlers[key];if(!arr){arr=handlers[key]=[fn];}else{arr.push(fn);}return api;};function toLabel(url){var els=url.split("/"),name=els[els.length-1],i=name.indexOf("?");return i!=-1?name.substring(0,i):name;}function getScript(url){var script;if(typeof url=='object'){for(var key in url){if(url[key]){script={name:key,url:url[key]};}}}else{script={name:toLabel(url),url:url};}var existing=scripts[script.name];if(existing){return existing;}scripts[script.name]=script;return script;}function each(arr,fn){if(!arr){return;}if(typeof arr=='object'){arr=[].slice.call(arr);}for(var i=0;i<arr.length;i++){fn.call(arr,arr[i],i);}}function isFunc(el){return Object.prototype.toString.call(el)=='[object Function]';}function onPreload(script){script.state="preloaded";each(script.onpreload,function(el){el.call();});}function preload(script,callback){if(!script.state){script.state="preloading";script.onpreload=[];if(/Firefox/.test(navigator.userAgent)){var obj=doc.createElement('object');obj.data=script.url;obj.width=0;obj.height=0;obj.onload=function(){onPreload(script);setTimeout(function(){head.removeChild(obj);},1);};head.appendChild(obj);}else{scriptTag({src:script.url,type:'cache'},function(){onPreload(script);});}}}function load(script,callback){if(script.state=='loaded'){return callback&&callback();}if(script.state=='preloading'){return script.onpreload.push(function(){load(script,callback);});}script.state='loading';scriptTag(script.url,function(){script.state='loaded';if(callback){callback.call();}each(handlers[script.name],function(fn){fn.call();});var allLoaded=true;for(var name in scripts){if(scripts[name].state!='loaded'){allLoaded=false;}}if(allLoaded){each(handlers.ALL,function(fn){if(!fn.done){fn.call();}fn.done=true;});}});return false;}function scriptTag(src,callback){var elem=doc.createElement('script');elem.type='text/'+(src.type||'javascript');elem.src=src.src||src;elem.onreadystatechange=elem.onload=function(){var state=elem.readyState;if(!callback.done&&(!state||/loaded|complete/.test(state))){callback.call();callback.done=true;}};head.appendChild(elem);}setTimeout(function(){ready=true;each(queue,function(fn){fn.call();});},200);var configjs;var combolists=[];api.go=function($files,$fun){var
self=api,srcs=$files.split(','),srcarr=[],file,srcname;if(HN.config&&HN.config.files){gonext();}else{!configjs&&api.js({config:JSURL+'hn.config.js'});api.ready('config',gonext);}configjs='loaded';function gonext(){configjs=HN.config.files;while(srcs.length){srcname=HN.trim(srcs.shift());if(srcname in configjs){file=configjs[srcname];if(COMBO){!file.loaded&&combolists.push(file);api.combojs();}else{!file.loaded&&api.js(JSURL+(isDev?file[0].replace('.min.','.source.'):file[0])+'?'+VERSION);}file.loaded=true;}else api.debug(srcname+'is not finded!');}$fun&&api.ready($fun);}};api.modReady=function(){};api.combojs=function(){if(!combolists.length)return;var files='',i=0,cjs={};setTimeout(function(){if(!combolists.length)return;var n=1;while(combolists.length){files+=','+combolists.shift()[0].replace('.min.','.source.');n++;}cjs['combo'+i]='http://js.mangoq.com/min/?f='+files.substr(1)+'&v='+VERSION;api.js(cjs);api.combojs();i++;},50);};api.debug=function($msg){if(!isDev)return;if(window.console&&console.log)console.log($msg);else{var
msg=document.createElement('p'),close=document.getElementById('honey-debug-close')?document.getElementById('honey-debug-close'):document.createElement('input'),box=document.getElementById('honey-debug')?document.getElementById('honey-debug'):document.createElement('div');if(!document.getElementById('honey-debug')){box.style.fontSize='12px';box.style.color='#fff';box.style.backgroundColor='gray';box.style.position='absolute';box.style.width='300px';box.style.height='200px';box.style.overflow='auto';box.style.right='0';box.style.top='0';box.id='honey-debug';document.body.appendChild(box);close.value='close';close.type='button';close.onclick=function(){box.style.display='none';isDev=true;return false;};box.appendChild(close);}msg.innerHTML=$msg;box.appendChild(msg);box.scrollTop=box.scrollHeight;}};api.openDevMode=function(){isDev=1;};api.trim=function($a){return $a.replace(/^\s+|\s+$/g,'');};api.inArray=function($a,$b){for(var c=0;c<$b.length;c++){if($b[c]==$a)return c;}return-1;};api.isString=function($o){return typeof $o==='string';};api.random=function($min,$max){return($max-$min)*Math.random()+$min;};api.delegate=function(rules){return function($e){var
e=$e||window.event,target=$(e.target||e.srcElement);for(var selector in rules)if(target.is(selector))return rules[selector].apply(target,$.makeArray(arguments));};};api.scrollTo=function($elem){var X,Y;if($elem.selector){var offset=$elem.offset();X=offset.left;Y=offset.top;}if(HN.isString($elem))$elem=window.document.getElementById($elem);if($elem.innerHTML){while($elem!=null){X+=$elem.offsetLeft;Y+=$elem.offsetTop;$elem=$elem.offsetParent;}}if(typeof $elem=='number'){X=0;Y=$elem;}window.jQuery?Y-=($(window).height()/2)-100:Y-=200;window.scrollTo(X,Y);};api.ie6=function(){return(!$.support.opacity&&$.browser.version.substr(0,1)<7);};api.ie=function(){var
undef,v=3,div=document.createElement('div');while(div.innerHTML='<!--[if gt IE '+(++v)+']><i></i><![endif]-->',div.getElementsByTagName('i')[0]);return v>4?v:undef;};})(document);

;HN.config={url:{www:'http://www.mangoq.com/',js:'http://js.mangoq.com/honey/',css:'http://css.mangoq.com/'},files:{'jquery':['lib/jquery.min.js','xydudu','7/21/2010'],'ajax':['mod/ajax.min.js','xydudu','7/21/2010'],'cookie':['mod/cookie.min.js','xydudu','7/28/2010'],'dialog':['mod/dialog.min.js','xydudu','7/29/2010'],'form':['mod/form.min.js','729748','8/02/2010'],'slide':['mod/slide.min.js','xydudu','8/11/2010'],'swfupload':['lib/swfupload.min.js','xydudu','8/18/2010'],'swfupload.queue':['lib/swfupload.queue.min.js','xydudu','8/18/2010'],'tab':['mod/tab.min.js','xydudu','8/25/2010'],'comment':['extend/comment.min.js','xydudu','8/30/2010'],'template':['mod/template.min.js','xydudu','9/13/2010'],'mootools':['lib/mootools.core.min.js','xydudu','9/19/2010'],'ape.client':['lib/ape.client.min.js','xydudu','9/19/2010'],'IM':['extend/im.min.js','xydudu','9/19/2010'],'notice':['mod/notice.min.js','xydudu','9/30/2010'],'tooltip':['mod/tooltip.min.js','xydudu','11/08/2010'],'select':['mod/select.min.js','xydudu','11/17/2010'],'area':['mod/area.min.js','xydudu','11/18/2010'],'render':['mod/render.min.js','xydudu','11/19/2010'],'autocomplete':['mod/autocomplete.min.js','729748','11/20/2010'],'dialog2':['mod/dialog2.min.js','xydudu','11/20/2010'],'login':['extend/login.min.js','729748','11/21/2010'],'upload':['extend/upload.source.js','729748','11/21/2010'],'tinput':['mod/tInput.source.js','729748','11/21/2010'],'avatar':['extend/avatar.source.js','729748','12/03/2010'],'ape.core':['lib/ape.core.min.js','xydudu','12/06/2010'],'ajax.action':['extend/ajax.action.min.js','xydudu','12/08/2010'],'face':['extend/face.min.js','xydudu','12/08/2010'],'dateSelect':['extend/dateSelect.min.js','729748','12/16/2010']}};