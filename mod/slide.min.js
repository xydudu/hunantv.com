
window.HN&&window.jQuery&&(HN.slide=function($slideId){var options={autoPlay:false,slideId:'hn-slide',itemNode:'div',repeat:true,direction:'X',times:300,scrollItems:1,showItems:1,padding:0};if(HN.isString($slideId)){options.slideId=$slideId;}else if(typeof $slideId=='object'){$.extend(options,$slideId);}var
s=$('#'+options.slideId),con=s.children('div.hn-slide-con'),box=con.children('.hn-slide-box'),prev=s.find('.hn-slide-prev'),next=s.find('.hn-slide-next'),t=null,items=box.children(options.itemNode),itemLen=items.length,itemW,itemH,ie6=HN.ie6();itemW=options.width||$(items[0]).width();itemH=options.heigth||$(items[0]).height();!s.length&&HN.debug('没有找到id为"'+options.slideId+'"的东东');options.direction==='X'&&box.width((itemW/options.scrollItems)*itemLen);var _t;if(next.length){next.mousedown(function(){goNext();_t=setTimeout(arguments.callee,300);});next.mouseup(function(){clearTimeout(_t);_t=null;});next.mousemove(function(){clearTimeout(_t);_t=null;});}if(prev.length){prev.mousedown(function(){goPrev();_t=setTimeout(arguments.callee,300);});prev.mouseup(function(){clearTimeout(_t);_t=null;});prev.mousemove(function(){clearTimeout(_t);_t=null;});}function goNext($num){clearTimeout(t);t=null;if($num)itemW=itemW*options.scrollItems;var
WH=options.direction==='X'?itemW:itemH,start=scroll(),end=start+WH+1,i=itemLen-options.showItems;if(i===Math.ceil(start/WH)){options.repeat&&goTo(1);return false;}options.padding=ie6?options.padding:0;start==0?anim(start+options.padding,end+options.padding):anim(start,end);return false;}function goPrev(){var
start=scroll(),end=start-(options.direction==='X'?itemW:itemH);if(end<0){options.repeat&&goTo(itemLen);return false;}anim(start,end);return false;}function goTo($pos){var
start=scroll(),end=($pos-1)*(options.direction==='X'?itemW:itemH)+1;ie6&&(end+=options.padding);anim(start,end);}function anim($start,$end){$({w:$start}).animate({w:$end},{duration:options.times,step:function(){scroll(this.w);},complete:function(){}});}function scroll($v){if($v){return(options.direction==='X')?con.scrollLeft($v):con.scrollTop($v);}else{return options.direction==='X'?con.scrollLeft():con.scrollTop();}}return{next:goNext,prev:goPrev,goTo:goTo};});