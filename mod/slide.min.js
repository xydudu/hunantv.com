window.HN&&window.jQuery&&(HN.slide=function($slideId){var options={autoPlay:false,slideId:'hn-slide',itemNode:'div',repeat:true,direction:'X',times:500,scrollItems:1};if(HN.isString($slideId)){options.slideId=$slideId;}else if(typeof $slideId=='object'){$.extend(options,$slideId);}
var
s=$('#'+options.slideId),con=s.children('div.hn-slide-con'),box=con.children('div.hn-slide-box'),prev=s.find('.hn-slide-prev'),next=s.find('.hn-slide-next'),t=null,items=box.children(options.itemNode),itemLen=items.length,itemW=$(items[0]).width()*options.scrollItems;itemH=$(items[0]).height()*options.scrollItems;!s.length&&HN.debug('没有找到id为"'+options.slideId+'"的东东');options.direction==='X'&&box.width((itemW/options.scrollItems)*itemLen);prev.length&&prev.click(goPrev);next.length&&next.click(goNext);function goNext(){HN.debug(options);clearTimeout(t);t=null;var
WH=options.direction==='X'?itemW:itemH,start=scroll(),end=start+WH+1,i=Math.ceil(itemLen/options.scrollItems)-1;if(i===Math.ceil(start/WH)){options.repeat&&goTo(1);return false;}
anim(start,end);return false;}
function goPrev(){var
start=scroll(),end=start-(options.direction==='X'?itemW:itemH);if(end<0){options.repeat&&goTo(itemLen);return false;}
anim(start,end);return false;}
function goTo($pos){var
start=scroll(),end=($pos-1)*(options.direction==='X'?itemW:itemH);anim(start,end);}
function anim($start,$end){$({w:$start}).animate({w:$end},{duration:options.times,step:function(){scroll(this.w);},complete:function(){HN.debug(this);}});}
function scroll($v){if($v){return(options.direction==='X')?con.scrollLeft($v):con.scrollTop($v);}else{return options.direction==='X'?con.scrollLeft():con.scrollTop();}}
return{next:goNext,prev:goPrev,goTo:goTo};});