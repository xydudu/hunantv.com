<!DOCTYPE html PUBLIC
        "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<script type="text/javascript" src="../../lib/jquery.min.js"></script>
<script type="text/javascript" src="jquery-wnt.js"></script>
<script type="text/javascript">
var service_url = "http://noteslog.com/personal/projects/wnt/hello-service.php?echo1=hola&echo=adios#123";
function display_response( data )
{
        try
        {
                var response = JSON.parse( data );
        }
        catch (e)
        {
                response = {status: 500, result: e}; //please forgive naïve error control
        }
        if (response.status == 200)
        {
                $('#result').html(unescape(response.result));
                alert(response.echo);
        }
        else
        {
                $('#result').html('<span style="color: red;">'+ response.result +'</span>');
        }
}
</script>
</head>
<body>
<p>
        What's your name? <input type="text" name="name" value="" id="name" />
        <a href="#" onclick="$.wnt.get(service_url, {name: escape($('#name').val()) || 'mystery guest'}, display_response);">get</a>
        |
        <a href="#" onclick="$.wnt.post(service_url, {name: escape($('#name').val()) || 'Nobody'}, display_response);">post</a>
</p>
<p>
Wellcome. This is a simple test page for WNT 1.0<br>
Using WNT, this page talks to a remote hello service that simply greets back with data
received in a GET or POST request.<br>
The hello service is hosted at http://noteslog.com/personal/projects/wnt/hello-service.php,
so you have to run this test page from a different domain, like your localhost (if you run
an http server locally), to test the cross domain capabilities of this jQuery plugin.
</p>
<p>
        <div id="result" style="background: #EFEFEF;"></div>
</p>
</body>
</html>

