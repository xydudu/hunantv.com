<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Test-mod-template</title>
     <script src="http://jsdev.hunantv.com/hn.source.js"></script>
</head>
<body>
    <h1>Test template</h1>
    <div id="d1"></div>
    <div id="d2"></div>
    <div id="d3"></div>
    
<script id="x" type="text/hn-tmpl"> 
    <div>[%=test%]</div>
</script>
<script type="text/hn-tmpl" id="y"> 
    <ul>
        [% for (var i=0; i<name.length; i++) { %]
            <li>[%=name[i]%]</li>
        [% } %]
    </ul>
</script>

<script type="text/hn-tmpl" id="z"> 
    <ul>
        [% for (var i=0; i<name.length; i++) { %]
            <li>[%=fun(name[i])%]</li>
        [% } %]
    </ul>
</script>

<script>
    function fun($num) {
        return $num+1
    }
    HN.openDevMode();
    HN.go('template', function() {

        var 
        data = {name: [1,2,3,4]},
        s = HN.tmpl('x', {test:'i am from the data obj'});
        document.getElementById('d2').innerHTML = HN.tmpl('<div class="[%=class%]">[%=html%]</div>', {class:'className', html: 'i am html'});
        document.getElementById('d3').innerHTML = HN.tmpl('y', data);
        document.getElementById('d1').innerHTML = HN.tmpl('z', data);

    });
</script>
</body>
</html>
